
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="author" content="MEEP Developers">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-components-1.10.11">
    
    
      
        <title>Visualization - MEEP Documentation</title>
      
    
    
      
    
    
      <script src="../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-2cd7d9ab0f.css">
      
      <link rel="stylesheet" href="../../assets/stylesheets/material-components-web.min.css">
      <link rel="stylesheet" href="../../assets/stylesheets/mdc-web.css">
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open Sans:300,300i,400,400i,600,600i,700,700i,800,800i|Ubuntu+Mono">
        <style>body,input{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../meep_documentation.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      
        <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink md-flex__cell--vmiddle">
        <a href="../.." title="MEEP Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../assets/images/logo_white.png" width="36" height="36">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            MEEP Documentation -
            
              
                <span class="md-header-nav__parent">
                  Adjoint Module for Automated Design Optimization
                </span>
              
            
            Visualization
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/NanoComp/meep/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
      
    </div>
  </nav>
</header>
      
    
    <div class="md-container">
      
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        <i class="md-icon md-icon--home"></i>
      
    </div>
    MEEP Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/NanoComp/meep/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Adjoint Module" class="md-nav__link">
      Adjoint Module
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Adjoint Module for Automated Design Optimization
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Adjoint Module for Automated Design Optimization
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ReferenceManual/" title="Reference Manual" class="md-nav__link">
      Reference Manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ExampleGallery/" title="Example Gallery" class="md-nav__link">
      Example Gallery
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="./" title="Visualization" class="md-nav__link md-nav__link--active">
      Visualization
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../AdjointImplementationNotes/" title="Implementation Notes" class="md-nav__link">
      Implementation Notes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div id="article-content" class="md-content"> 
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/NanoComp/meep/blob/master/doc/docs/AdjointSolver/Visualization.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                
                <!----------------------------------------------------->

<!- LaTeX macros used only for adjoint documentation  ->
<!----------------------------------------------------->
$$
   \newcommand{\vb}{\mathbf}
   \newcommand{\wt}{\widetilde}
   \newcommand{\mc}{\mathcal}
   \newcommand{\bmc}[1]{\boldsymbol{\mathcal{#1}}}
   \newcommand{\sup}[1]{^{\text{#1}}}
   \newcommand{\sups}[1]{^{\text{#1}}}
   \newcommand{\sub}[1]{_{\text{#1}}}
   \newcommand{\subs}[1]{_{\text{#1}}}
   \newcommand{\pard}[2]{\frac{\partial #1}{\partial #2}}
   \newcommand{\VMV}[3]{ \Big\langle #1 \Big| #2 \Big| #3 \Big\rangle}
$$

<style>
.superfences-tabs {
  display: flex;
  position: relative;
  flex-wrap: wrap;
}

.superfences-tabs .highlight {
  background: #ddd;
}

.superfences-tabs .superfences-content {
  display: none;
  order: 99;
  width: 100%;
}

.superfences-tabs label {
  width: auto;
  margin: 0 0.5em;
  padding: 0.25em;
  font-size: 120%;
  cursor: pointer;
}

.superfences-tabs input {
  position: absolute;
  opacity: 0;
}

.superfences-tabs input:nth-child(n+1) {
  color: #333333;
}

.superfences-tabs input:nth-child(n+1):checked + label {
    color: #FF5252;
}

.superfences-tabs input:nth-child(n+1):checked + label + .superfences-content {
    display: block;
}
</style>

<hr />
<h1 id="meepadjointvisualization"><code>meep.adjoint.Visualization</code>:<a class="headerlink" href="#meepadjointvisualization" title="Permanent link">&para;</a></h1>
<h1 id="easy-standardized-pymeep-visualization-routines">Easy, standardized <span class=SC>pymeep</span> visualization routines<a class="headerlink" href="#easy-standardized-pymeep-visualization-routines" title="Permanent link">&para;</a></h1>
<h1 id="that-just-work">that <em>just work</em><a class="headerlink" href="#that-just-work" title="Permanent link">&para;</a></h1>
<hr />
<p>The <code>meep.adjoint</code> python module implementing
<span class=SC>meep</span> adjoint solver includes
an extensive set of tools for graphical visualization
of <span class=SC>meep</span> sessions via
<a href="http://matplotlib.org"><span class=SC>matplotlib</span></a>.
Although these tools are packaged with and used by
<code>meep.adjoint</code>, they are independent of the adjoint solver
and can be used for convenient visualization of <em>any</em> python-driven
<span class=SC>meep</span> session---indeed, it is a specific
goal of the module that the visualization routines can
be invoked, with no arguments, on any <span class=SC>meep</span> geometry
and will do something reasonable and useful in every case.</p>
<p>These and other objectives of the initiative are described in the
first section below, after which we present examples to illustrate
the three key types of plot produced by the module and how the 
default options can be customized.</p>
<blockquote>
<p><img alt="🔖" class="gemoji" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f516.png" title=":bookmark:" /> <strong>tl;dr documentation for <code>meep.adjoint.visualize</code></strong></p>
<ol start="0">
<li>
<p><strong>Motivation:</strong> Plotting is <em>much</em> too hard in <span class=SC>meep</span>, especially
     at the lower end where you just want something quick and easy
     to let you sanity-check your geometry.
     This module attempts to
     provide some simple functions that should <em>just work</em> in most cases
     to provide some graphical intuition for what you're working with.
     The spirit of the module is to provide functions that can be called 
     <em>with no customization options whatsoever</em> and will do useful
     relevant things by default, but which can also be customized
     in cases where you <em>do</em> want to take the time to spruce up the 
     output.</p>
</li>
<li>
<p><strong>Visualizing geometries before timestepping.</strong> Call <code>visualize_sim</code> to view your simulation prior to timestepping:</p>
</li>
</ol>
<div class="highlight"><pre><span></span>   <span class="kn">from</span> <span class="nn">meep.adjoint</span> <span class="k">import</span> <span class="n">visualize_sim</span>

   <span class="n">sim</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">simulation</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>    

   <span class="c1"># insert code for adding DFT cells here</span>

   <span class="n">visualize_sim</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
</pre></div>

<p><img alt="zoomify" src="../images/RouterGeometry_Final.png" /></p>
<ol start="2">
<li><strong>Visualizing frequency-domain fields after timestepping.</strong> Call <code>visualize_sim</code> (same function, same no arguments!) after timestepping to view
     frequency-domain (DFT) fields superposed atop the geometry;
     the function automatically looks inside the <code>simulation</code> to determine what
     frequency-domain fields are available to plot.</li>
</ol>
<div class="highlight"><pre><span></span>   <span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">until</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
   <span class="n">visualize_sim</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
</pre></div>

<p><img alt="zoomify" src="../images/RouterForward_Final.png" /></p>
<ol start="3">
<li>
<p><strong>Real-time visualization of time-domain fields during timestepping.</strong> Use <code>AFEClient</code> to define 
    a custom-made <a href="https://meep.readthedocs.io/en/latest/Scheme_User_Interface/#run-and-step-functions">step function</a>
    that intermittently updates a plot of time-domain fields in real time as your
    meep timestepping run progresses.</p>
<div class="highlight"><pre><span></span>   <span class="kn">from</span> <span class="nn">meep.adjoint</span> <span class="k">import</span> <span class="n">AFEClient</span>

   <span class="n">step_funcs</span><span class="o">=</span><span class="p">[</span> <span class="n">AFEClient</span><span class="p">(</span><span class="n">sim</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Ez&#39;</span><span class="p">],</span> <span class="n">interval</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="p">]</span>
   <span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">*</span><span class="n">step_funcs</span><span class="p">,</span> <span class="n">until</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>

<p>Here are movies of what this produces for the
<a href="../Overview#the-holey-waveguide">holey waveguide</a> geometry,
showing an incident eigenmode field propagating across a waveguide
with and without a hole in it.</p>
<ul>
<li>
<p>Without hole: <a href="../images/Ez2WithoutHole.h264"><code>Ez2WithoutHole.h264</code></a></p>
</li>
<li>
<p>With hole: <a href="../images/Ez2WithHole.h264"><code>Ez2WithHole.h264</code></a></p>
</li>
</ul>
</li>
</ol>
</blockquote>
<hr />
<blockquote>
<p><img alt="🔖" class="gemoji summary" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f516.png" title=":bookmark:" /> <strong><span class=SC>table of contents</span></strong></p>
<ol>
<li>
<p><strong>Motivation and Philsophy</strong></p>
<p>a,b. <em>(a couple of longer-winded discussions culminating in) the</em></p>
<p>c.   <em>The motivating desiderata for <code>meep.adjoint.Visualization</code></em></p>
</li>
<li>
<p><strong>Easy visualization of simulation geometries before timestepping: <code>visualize_sim</code></strong></p>
</li>
<li>
<p><strong>Easy real-time animation of time-domain fields during 
     <span class=SC>meep</span> computations:<code>AFEClient</code> and <code>AFEServer</code></strong></p>
</li>
<li>
<p><strong>Easy visualization of frequency-domain fields---in isolation or
     superposed atop your material geometry</strong></p>
</li>
<li>
<p><strong>Customization:</strong>*
</p>
</li>
</ol>
</blockquote>
<h2 id="motivation-and-philosophy">Motivation and philosophy<a class="headerlink" href="#motivation-and-philosophy" title="Permanent link">&para;</a></h2>
<blockquote>
<p><img alt="💡" class="gemoji" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4a1.png" title=":bulb:" /> Skip down to the <a href="../tldr-version"><strong><code>tl;dr</code> version</strong></a> 
    of the motivation and goals of this initiative,
    or click to expand the tabs below for a
    longer-winder account.</p>
</blockquote>
<details class="note"><summary><strong>The error-checking power of visual sanity checks for text-defined geometries</strong></summary><p>The fact that every aspect of a <span class=SC>meep</span>
calculation---from the <a href="https://meep.readthedocs.io/en/latest/Python_User_Interface/#geometricobject">material geometry</a>,
to the <a href="https://meep.readthedocs.io/en/latest/Python_User_Interface/#pml">absorbing boundaries</a>,
to the placement and orientation
of the <a href="https://meep.readthedocs.io/en/latest/Python_User_Interface/#source">sources</a>,
to the positions and sizes of the
<a href="https://meep.readthedocs.io/en/latest/Python_User_Interface/#FluxSpectra">flux monitors</a>---is
defined by lines of text in script files offers a welcome
change of pace from the immersive GUI experience of commercial
CAD tools, as well as a natural platform for complex,
0ustomized calculations that would be unwieldy or impossible
to launch from a point-and-click pull-down interface.
Nonetheless, as convenient as it is to specify geometries
non-graphically, it's <em>also</em> quite useful---arguably even
<em>essential</em>---to review a graphical representation
of the geometry you input as interpreted by
<span class=SC>meep</span>, both to confirm that your input
was processed as you expected and to catch the sorts of
inadvertent errors---a flux monitor in the wrong place,
a source pointing the wrong direction---that are
all too easy to overlook in your python script,
but instantly obvious upon visual inspection.</p>
<p>In addition to the usefulness of visual sanity checks
on your input geometry, it can be helpful to look at
graphical visualizations of the electric and magnetic 
fields computed by <span class=SC>meep</span>---both
the time-domain and the frequency-domain fields---and
in particular to review how the field distributions 
evolve in space in the presence of your material geometry.
This is true even though, in many cases, the ultimate
desired output of your calculation will be non-graphical,
sucha a number---a power flux, an eigenmode coefficient, 
etc---whose computation, again, will be described by
lines of text you write in a script file. If the calculation
works correctly as you wrote it and you get 
a reasonable numerical output on your first try,
well, bully for you! You have no need of graphical
visualization aids. For the rest of us---who can't
figure out why our flux is 10 orders of magnitude 
too small until we look at the time-domain power flow and
realize we set things up backward, so that all the 
excitation power flows promptly <em>out of</em>, not into,
the computational cell---visualization tools can be 
a lifesaver.</p>
</details>
<details class="note"><summary>Wait, isn't this a solved problem?</summary><p>So we're agreed that visualization---of both inputs (geometries)
and outputs (fields)---is a good thing. But isn't this a 
solved problem? After all, <span class=SC>meep</span> offers
plenty of routines for retrieving as much raw data on
geometries and fields as any user could want---and, once one
has the raw data, it's just a matter of choosing from among the 
infinitude of available tools for plotting and visualization.
Indeed, already within the <span class=SC>meep</span> documentation
itself one can find many different types of visualization generated 
by many different types of tool. What more is left to say?</p>
</details>
<details class="note"><summary>Wanted: Quick, easy, <em>standard</em> visualization paradigms that <em>just work</em> on any geometry</summary><p>Despite the arguably non-issue status of the situation, I would argue
that the current situation is suboptimal in at least two ways.</p>
<ul>
<li>
<p><strong>(a)</strong> The absence of a single, canonical solution means that, as a <span class=SC>meep</span> user,
every time you feel the urge to visualize something you have to spend some time and effort
figuring out how you are going to do it---and then going through the hassle of setting that up.
In my experience, this was especially true when it came to making movies of the evolution
time-domain fields---although the problem had been solved with documentation a couple of times
in the manual, still somehow it felt like a major chore to set this up every time
I wanted it.</p>
</li>
<li>
<p><strong>(b)</strong> On a different note, the absence of generally-accepted visualization protocols
means that everybody's visualizations look different. This is not necessarily tragic, and
we wouldn't want to enforce sterile conformity, but it might be nice if there were <em>some</em>
notion of "canonical <span class=SC>meep</span> visualization format" to serve as a common
language.</p>
</li>
</ul>
</details>
<blockquote>
<p><img alt="💡" class="gemoji" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4a1.png" title=":bulb:" /> The motivating desiderata for <code>meep.adjoint.Visualization</code></p>
</blockquote>
<p>With all of that by way of backstory, here were the guidelines that motivated
  the design of these routines.</p>
<ol>
<li>
<p>They should <strong>fully address the three everyday situations that cry out most
      urgently for visualization support</strong>, namely</p>
<ul>
<li>
<p><em>Simulation geometry before timestepping.</em> A static image of the simulation geometry at the begininng of the calculation, 
      before timestepping has begun. The important targets for visualization are the following items and their 
      relative positioning vis-a-vis one another: <strong>(a)</strong> the material geometry, <strong>(b)</strong> the absorbers,
      <strong>&lparen;c)</strong> the location and nature of sources, <strong>(d)</strong> the position and size of any DFT cells in which
      frequency-domain fields are to be computed.</p>
</li>
<li>
<p><em>Time-domain fields during timestepping.</em> An animation or movie showing the time-domain fields evolving
      throughout the timestepping. For one thing, this tells you instantly when you have e.g. oriented your
      source backwards or otherwise misconfigured something obvious---you sit and watch all of 
      your "input" power go flying right out of the cell to the left instead of proceeding rightward 
      into the center like you intended---whereas the <em>frequency</em>-domain plots produced even by 
      such totally misbegotten simulations can be pretty effective at obscuring even obvious
      culprits.</p>
<p>Also, after all, the ability to observe essentially time-domain phenomena is one of the
  key reasons to use an FDTD tool in the first place; many frequency-domain problems
  can be solved much more efficiently by frequency-domain solvers than by something like
  <span class=SC>meep</span>, but they don't produce nice movies showing e.g.
  reflection and diffraction of wave packets from interfaces. So it seems particularly
  unfortunate for a time-domain-solver like <span class=SC>meep</span> to offer
  no easy built-in functionality for animating time-domain field evolutions.</p>
</li>
<li>
<p><em>Frequency-domain fields after timestepping.</em> A static image showing the amplitudes of frequency-domain fields
     in regions of DFT cells, with the spatial distributiono of Poynting flux plotted for DFT flux cells.</p>
</li>
</ul>
<blockquote>
<p><img alt="💡" class="gemoji" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4a1.png" title=":bulb:" /> <strong>A central goal of this module is to provide reliable, easy-to-use routines for
      each of the aforementioned purposes.</strong></p>
</blockquote>
</li>
<li>
<p><em>They should offer a hierarchy of customizability options</em> for users at different
     places on the willingness-to-suffer-for-their-art spectrum.
     Of course, the goals outlined above---routines that are <em>easy to use</em> and <em>just work</em>---suggest
     an implementation strategy in which the tools make all the artistic decisions for you; the easiest
     calling convention to remember is the one with no parameters. However, one of the nice things
     about the <a href="http://matplotlib.org"><span class=SC>matplotlib</span></a> backend is how very <em>extremely</em>
     customizable it is, and it shouldn't be hard to pass at least some of those options
     on to users of <code>meep.adjoint.Visualization.</code> 
     In view of these considerations, the goal of the routines is to offer
     a three-tiered hierarchy of customizability levels.</p>
<p>a. <strong>Zero-effort calling model for lazy forgetful slackers</strong></p>
<p>For users who can't be bothered to memorize or look up library function
 prototypes---or who just want quick and dirty visualization at the
 prototyping stage with the option to clean up later---it should be 
 possible to call the visualization routines on just the <code>simulation</code> 
 entity alone <em>with no configuration arguments whatsoever,</em>
 with the module making reasonable choices to produce helpful graphics
 in a standardized format.</p>
<p>b. <strong>Minimal-effort calling model for the slightly more motivated</strong></p>
<p>For users who fall basically into the previous bucket but are
 motivated to change one or another option that otherwise
 obstructs the visualization (like, label font size too large),
 there should be an easy way to configure global settings once,
 after which the user can proceed lazily to call all visualization
 routines with no customization arguments.</p>
<p>c. <strong>Full-customization calling model for diligent nitpickers:</strong></p>
<p>Finally, for users who <em>do</em> want to invest time and effort to
 configure plotting options to their liking, the visualization
 module should provide copious customization options to allow
 as much as possible of the visualization to be customized.</p>
</li>
</ol>
<h2 id="2-easy-visualization-of-simulation-geometries-before-timestepping-visualize_sim">2. <strong>Easy visualization of simulation geometries before timestepping: <code>visualize_sim</code></strong><a class="headerlink" href="#2-easy-visualization-of-simulation-geometries-before-timestepping-visualize_sim" title="Permanent link">&para;</a></h2>
<p>As described above, the first visualization task we consider
is that of double-checking the various geometric inputs
supplied to <span class=SC>pymeep</span> when creating a 
<a href="../TheSimulationClass"><code>simulation</code></a>:
the computational cell and material geometry, the absorbing boundaries, the exciting sources, 
and any DFT cells for which we requested tabulation of frequency-domain fields. Also described
above was the imperative that, to ensure a maximally memorable calling convention,
the visualization routine be callable on <em>just the <code>simulation</code> class itself with no
other parameters required.</em></p>
<p>These objectives are satisfied by the <code>visualize_sim</code> routine in <code>meep.adjoint.Visualization</code>,
whose calling convention is precision-engineered to be as painless as possible: after
creating a <span class=SC>pymeep</sc> <code>simulation</code>
through a call like <code class="highlight"><span class="n">sim</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">simulation</span><span class="p">(</span><span class="n">geometry</span><span class="o">=...</span><span class="p">)</span></code>,
you can simply say</p>
<div class="highlight"><pre><span></span>  <span class="n">visualize_sim</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
</pre></div>

<p>and voilà! A new plot window sprouts open to reveal your simulation
in all its glory, looking something like this:</p>
<p><img alt="zoomify" src="../images/RouterGeometry_Iter0.png" /></p>
<h2 id="during-timestepping-real-time-visualization-of-time-domain-field-evolution">During timestepping: Real-time visualization of time-domain field evolution<a class="headerlink" href="#during-timestepping-real-time-visualization-of-time-domain-field-evolution" title="Permanent link">&para;</a></h2>
<h2 id="after-timestepping-visualizing-frequency-domain-poynting-fluxes-and-energy-densities">After timestepping: Visualizing frequency-domain Poynting fluxes and energy densities<a class="headerlink" href="#after-timestepping-visualizing-frequency-domain-poynting-fluxes-and-energy-densities" title="Permanent link">&para;</a></h2>
<h2 id="customization">Customization<a class="headerlink" href="#customization" title="Permanent link">&para;</a></h2>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../ExampleGallery/" title="Example Gallery" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Example Gallery
              </span>
            </div>
          </a>
        
        
          <a href="../AdjointImplementationNotes/" title="Implementation Notes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Implementation Notes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://yakworks.github.io/mkdocs-material-components/" title="Material Components for MkDocs">
          Material Components for MkDocs</a>
      </div>
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-68832431b5.js"></script>
      
      
      <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
      <script>window.mdc.autoInit()</script>
      <script src="../../assets/javascripts/headroom.min.js"></script>
      <script src="../../assets/javascripts/jQuery.headroom.min.js"></script>
      <script src="../../assets/javascripts/jq-mdc-web.js"></script>
      <script src="https://cdn.jsdelivr.net/jquery.loadingoverlay/latest/loadingoverlay.min.js"></script>
      <script>app.initialize({version:"0.16.3",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
      
    
    
  </body>
</html>